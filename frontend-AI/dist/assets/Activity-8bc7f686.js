import{o as a,f as n,d as e,F as f,g,t as i,m as Q,p as L,_ as q,r as b,q as E,c as U,a as W,b as Z,w as h,e as y,h as N,i as G,l as I,j as J,k as K}from"./index-e0e7d705.js";import{u as O,_ as X}from"./AIresponse-92e00b7d.js";const Y={class:"w-full text-left table-auto min-w-max"},ee={class:"p-4 py-5"},te={class:"block font-semibold text-sm text-navy-muted text-left"},se={class:"text-left py-5 p-4"},oe={class:"text-sm text-navy font-semibold"},re=["onClick"],ae=["onClick"],le={__name:"Table",props:{aiResponses:{type:Array,required:!0}},emits:["delete","data"],setup(d){return(l,o)=>(a(),n("table",Y,[o[2]||(o[2]=e("thead",null,[e("tr",null,[e("th",{class:"p-4 border-b border-slate-200 bg-beige-light"},[e("p",{class:"text-sm font-normal leading-none text-navy-sky text-left"},"AI Response Title")]),e("th",{class:"p-4 border-b border-slate-200 bg-beige-light text-left"},[e("p",{class:"text-sm font-normal leading-none text-navy-sky"},"Response Type")]),e("th",{class:"p-4 border-b border-slate-200 bg-beige-light"}),e("th",{class:"p-4 border-b border-slate-200 bg-beige-light text-left"})])],-1)),e("tbody",null,[(a(!0),n(f,null,g(d.aiResponses,t=>(a(),n("tr",{key:t.id,class:"hover:bg-slate-50 border-b border-slate-200"},[e("td",ee,[e("p",te,i(t.title),1)]),e("td",se,[e("p",oe,i(t.response_type==1?"Quiz":"Summary"),1)]),e("td",{class:"p-4 py-5",onClick:u=>l.$emit("data",t)},o[0]||(o[0]=[e("p",{class:"text-sm text-emerald-500 cursor-pointer"},[e("svg",{width:"25px",height:"25px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M9 4.45962C9.91153 4.16968 10.9104 4 12 4C16.1819 4 19.028 6.49956 20.7251 8.70433C21.575 9.80853 22 10.3606 22 12C22 13.6394 21.575 14.1915 20.7251 15.2957C19.028 17.5004 16.1819 20 12 20C7.81811 20 4.97196 17.5004 3.27489 15.2957C2.42496 14.1915 2 13.6394 2 12C2 10.3606 2.42496 9.80853 3.27489 8.70433C3.75612 8.07914 4.32973 7.43025 5 6.82137",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),e("path",{d:"M15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9C13.6569 9 15 10.3431 15 12Z",stroke:"currentColor","stroke-width":"1.5"})])],-1)]),8,re),e("td",{class:"text-center py-5",onClick:u=>l.$emit("delete",t)},o[1]||(o[1]=[Q('<p class="text-sm text-rose-500 cursor-pointer"><svg width="25px" height="25px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20.5001 6H3.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path><path d="M9.5 11L10 16" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path><path d="M14.5 11L14 16" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path><path d="M6.5 6C6.55588 6 6.58382 6 6.60915 5.99936C7.43259 5.97849 8.15902 5.45491 8.43922 4.68032C8.44784 4.65649 8.45667 4.62999 8.47434 4.57697L8.57143 4.28571C8.65431 4.03708 8.69575 3.91276 8.75071 3.8072C8.97001 3.38607 9.37574 3.09364 9.84461 3.01877C9.96213 3 10.0932 3 10.3553 3H13.6447C13.9068 3 14.0379 3 14.1554 3.01877C14.6243 3.09364 15.03 3.38607 15.2493 3.8072C15.3043 3.91276 15.3457 4.03708 15.4286 4.28571L15.5257 4.57697C15.5433 4.62992 15.5522 4.65651 15.5608 4.68032C15.841 5.45491 16.5674 5.97849 17.3909 5.99936C17.4162 6 17.4441 6 17.5 6" stroke="currentColor" stroke-width="1.5"></path><path d="M18.3735 15.3991C18.1965 18.054 18.108 19.3815 17.243 20.1907C16.378 21 15.0476 21 12.3868 21H11.6134C8.9526 21 7.6222 21 6.75719 20.1907C5.89218 19.3815 5.80368 18.054 5.62669 15.3991L5.16675 8.5M18.8334 8.5L18.6334 11.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg></p>',1)]),8,ae)]))),128))])]))}},ne={class:"items-center px-4 py-3"},de=["disabled"],ie=["onClick"],ue=["disabled"],ce={__name:"Pagination",props:{currentPage:{type:Number,required:!0},lastPage:{type:Number,required:!0}},emits:["fetch"],setup(d){return(l,o)=>(a(),n("div",ne,[e("button",{class:"px-3 py-1 min-w-9 min-h-9 text-sm font-bold text-navy-soft border-2 border-navy-soft bg-white rounded",disabled:d.currentPage==1,onClick:o[0]||(o[0]=t=>l.$emit("fetch",d.currentPage-1))}," Prev ",8,de),(a(!0),n(f,null,g(d.lastPage,t=>(a(),n("button",{key:t,class:L([{"bg-navy-soft text-white":t==d.currentPage,"text-beige-dark":t!=d.currentPage},"px-3 py-1 min-w-9 min-h-9 text-sm font-bold text-navy-soft border-2 border-navy-soft rounded m-0.5"]),onClick:u=>l.$emit("fetch",t)},i(t),11,ie))),128)),e("button",{class:"px-3 py-1 min-w-9 min-h-9 text-sm font-bold text-navy-soft border-2 border-navy-soft bg-white rounded",disabled:d.currentPage==d.lastPage,onClick:o[1]||(o[1]=t=>l.$emit("fetch",d.currentPage+1))}," Next ",8,ue)]))}};const pe={class:"p-4"},me={key:0},ve={class:"text-lg font-semibold"},be={key:1},he={class:"py-6"},ye={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},fe={class:"bg-light-gray overflow-hidden shadow-sm sm:rounded-lg border"},ge={class:"p-5 text-navy-soft"},xe={class:"mb-4 md:w-1/3 py-4"},we={class:"relative flex flex-col w-full h-full overflow-auto text-gray-700 bg-white shadow-md rounded-lg bg-clip-border"},_e={__name:"Activity",setup(d){const l=O(),o=b(!1),t=b(null),u=b(!1),x=b(""),V=s=>{t.value=s,u.value=!0},C=()=>{u.value=!1,t.value=null},B=s=>{t.value=s,o.value=!0},w=()=>{o.value=!1,t.value=null},T=()=>{t.value&&(l.deleteAIResponse(t.value.id).then(()=>{c(l.pagination.current_page)}),w())},c=(s=1)=>{l.fetchAIResponses(s,x.value)},j=()=>{c(1)};E(()=>{c()});const k=U(()=>l.pagination),$=(s,r)=>t.value.marks.correct_answers&&t.value.marks.correct_answers[s]!=null&&t.value.marks.correct_answers[s]==r,z=(s,r)=>t.value.marks.your_answers&&t.value.marks.your_answers[s]!=null&&t.value.marks.your_answers[s]==r&&!$(s,r),F=s=>t.value.marks.your_answers&&t.value.marks.your_answers[s]!=null?t.value.marks.your_answers[s]:null;return(s,r)=>{const P=W("Modal");return a(),Z(X,null,{header:h(()=>r[2]||(r[2]=[e("div",{class:"font-semibold text-2xl text-navy leading-tight bg-white w-full sm:w-1/2 md:w-1/4 p-4 sm:p-2 text-center rounded-md"}," My Activity Dashboard ",-1)])),default:h(()=>[y(P,{show:u.value,onClose:C},{default:h(()=>{var p,A,M,D,R,S;return[e("div",pe,[t.value.response_type==1?(a(),n("div",me,[(a(!0),n(f,null,g(t.value.response_data.quiz,(_,m)=>(a(),n("div",{key:m,class:"mb-4"},[e("p",null,[e("strong",null,"Question "+i(_.question_number)+":",1),K(" "+i(_.question),1)]),e("ul",null,[(a(!0),n(f,null,g(_.options,(H,v)=>(a(),n("li",{key:v,class:L({"text-green-500":$(m,v),"text-red-500":z(m,v)&&F(m)==v})},i(H),3))),128))])]))),128)),e("p",ve," Total Score: "+i(((A=(p=t.value)==null?void 0:p.marks)==null?void 0:A.total)??0)+" / 10 ",1)])):N("",!0),((M=t.value)==null?void 0:M.response_type)==0?(a(),n("div",be,[r[1]||(r[1]=e("h3",{class:"text-xl font-semibold text-navy pb-2"},"Summary",-1)),e("p",null,i(((S=(R=(D=t.value)==null?void 0:D.response_data)==null?void 0:R.summary)==null?void 0:S.summary)??"No summary available"),1)])):N("",!0),e("div",{class:"flex justify-center"},[e("button",{onClick:C,class:"mt-4 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-400 transition w-full"}," Close ")])])]}),_:1},8,["show"]),e("div",he,[e("div",ye,[e("div",fe,[e("div",ge,[e("div",xe,[G(e("input",{"onUpdate:modelValue":r[0]||(r[0]=p=>x.value=p),class:"w-full h-10 px-3 py-2 text-sm border border-slate-300 rounded focus:outline-none focus:border-navy hover:border-navy",placeholder:"Search for AI responses...",onInput:j},null,544),[[I,x.value]])]),e("div",we,[y(le,{aiResponses:J(l).aiResponses,onData:V,onDelete:B},null,8,["aiResponses"]),y(ce,{currentPage:k.value.current_page,lastPage:k.value.last_page,onFetch:c},null,8,["currentPage","lastPage"])])])])])]),y(P,{show:o.value,onClose:w},{default:h(()=>[e("div",{class:"p-4"},[r[3]||(r[3]=e("h3",{class:"text-xl font-semibold mb-4 text-navy-soft"},"Are you sure?",-1)),r[4]||(r[4]=e("p",{class:"mb-6 text-navy-soft"},"Do you really want to delete this response?",-1)),e("div",{class:"flex justify-end space-x-4"},[e("button",{onClick:w,class:"px-4 py-2 bg-gray-400 text-white rounded-md"}," Cancel "),e("button",{onClick:T,class:"px-4 py-2 bg-red-600 text-white rounded-md"}," Delete ")])])]),_:1},8,["show"])]),_:1})}}},$e=q(_e,[["__scopeId","data-v-6b1d3472"]]);export{$e as default};
